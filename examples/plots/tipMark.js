import { renderPlot } from "../util/renderPlotClient.js";
// This code is both displayed in the browser and executed
const smileySVG = `<svg width="64" height="64" fill="none" xmlns="http://www.w3.org/2000/svg">
  <style>
    
    
  </style>
  <g clip-path="url(#a)">
    <ellipse opacity=".33" cx="26.98" cy="60.21" rx="16.35" ry="3.789" fill="#33CEFF"/>
    <path d="m27.47 45.148-5.258-.297-1.719 7.618s-5.763-1.93-6.066 3.512c-.304 5.442 5.358 4.799 9.453 4.65 4.095-.148 3.09-12.378 3.59-15.483Z" fill="#fff"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M19.25 52.2c-1.711-.226-4.61-.036-4.823 3.781-.283 5.07 4.613 4.858 8.595 4.686.292-.013.579-.025.858-.035 3.1-.113 3.277-7.147 3.397-11.907.014-.572.028-1.113.045-1.604.03-.819.071-1.501.147-1.973l-5.257-.297-1.719 7.618s-.514-.172-1.242-.268Zm4.565-5.277-1.347 5.973a1.983 1.983 0 0 1-.984 1.298 2.061 2.061 0 0 1-1.636.15l-.017-.005a5.809 5.809 0 0 0-.6-.139c-.428-.075-.93-.116-1.383-.055-.445.06-.722.197-.898.374-.162.162-.448.564-.504 1.57-.057 1.025.175 1.498.357 1.73.194.247.548.493 1.23.674 1.301.345 2.977.275 4.859.197l.862-.034c.076-.061.245-.255.463-.795.38-.944.634-2.352.792-4.042.154-1.657.203-3.418.243-5.012l.006-.249c.013-.527.026-1.053.045-1.55l-1.488-.085ZM23.71 58.68c0-.002.01-.011.037-.018-.024.018-.037.02-.037.018Z" fill="#000"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M20.408 54.523a14.79 14.79 0 0 0-1.689-.427.595.595 0 0 1-.485-.692.606.606 0 0 1 .708-.475c.43.078 1.125.238 1.84.465.704.223 1.484.529 2.045.917.274.19.338.56.145.828a.615.615 0 0 1-.846.141c-.407-.281-1.044-.543-1.718-.757Z" fill="#000"/>
    <path d="m26.357 45.148 5.257-.297 1.72 7.618s5.762-1.93 6.065 3.512c.304 5.442-5.358 4.799-9.453 4.65-4.095-.148-3.089-12.378-3.59-15.483Z" fill="#fff"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M34.575 52.2c1.713-.226 4.612-.036 4.825 3.781.282 5.07-4.614 4.858-8.596 4.686a97.979 97.979 0 0 0-.858-.035c-3.1-.113-3.276-7.147-3.396-11.907-.015-.572-.028-1.113-.046-1.604-.03-.819-.071-1.501-.147-1.973l5.257-.297 1.72 7.618s.513-.172 1.241-.268Zm-4.564-5.277 1.348 5.973c.124.55.482 1.022.984 1.298a2.061 2.061 0 0 0 1.635.15l.018-.005.116-.033c.111-.03.28-.07.484-.106.427-.075.929-.116 1.383-.055.445.06.721.197.898.374.16.162.447.564.503 1.57.057 1.025-.175 1.498-.357 1.73-.194.247-.548.493-1.23.674-1.301.345-2.977.275-4.859.197l-.861-.034c-.077-.061-.246-.255-.463-.795-.38-.944-.635-2.352-.793-4.042-.154-1.657-.202-3.418-.242-5.012l-.007-.249c-.013-.527-.026-1.053-.045-1.55l1.488-.085Zm.107 11.757c0-.002-.012-.011-.037-.018.023.018.036.02.037.018Z" fill="#000"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M33.418 54.523a14.8 14.8 0 0 1 1.689-.427c.33-.06.546-.37.485-.692a.606.606 0 0 0-.708-.475c-.43.078-1.124.238-1.84.465-.704.223-1.484.529-2.045.917a.586.586 0 0 0-.144.828c.193.267.572.33.845.141.407-.281 1.044-.543 1.718-.757Z" fill="#000"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M26.977.742c1.537 1.89 2.323 3.795 2.677 5.525 1.906-1.566 3.64-3.774 3.722-4.744 1.015 2.17 1.316 4.182 1.244 5.93 2.21-1.074 4.387-2.78 4.702-3.692.448 2.32.253 4.327-.235 5.996 2.387-.535 4.875-1.67 5.397-2.476-.13 2.383-.82 4.303-1.714 5.818 2.47.05 5.216-.479 5.927-1.147-.71 2.295-1.853 4.004-3.096 5.27 2.392.632 5.207.766 6.064.282-1.252 2.064-2.783 3.456-4.301 4.393 2.165 1.18 4.862 1.975 5.813 1.708-1.66 1.643-3.416 2.62-5.066 3.182 1.807 1.557 4.113 2.837 5.066 2.791-2.053 1.262-4.042 1.817-5.814 1.98 1.386 1.985 3.392 3.847 4.353 4.027-2.325.76-4.413.835-6.188.573.852 2.273 2.358 4.592 3.254 4.997-2.442.189-4.484-.232-6.142-.904.272 2.405 1.166 5.005 1.937 5.608-2.415-.388-4.293-1.273-5.737-2.313-.32 2.398-.082 5.127.518 5.891-2.25-.94-3.86-2.236-5.01-3.582-.902 2.25-1.346 4.955-.952 5.839-1.95-1.444-3.192-3.082-3.975-4.66-1.42 1.977-2.505 4.497-2.336 5.446-1.566-1.88-2.376-3.785-2.748-5.518-1.896 1.581-3.616 3.806-3.69 4.779-1.035-2.166-1.35-4.18-1.291-5.93-2.204 1.09-4.373 2.814-4.68 3.73-.471-2.345-.283-4.373.206-6.058-2.404.546-4.925 1.714-5.446 2.53.113-2.387.79-4.313 1.675-5.836-2.467-.03-5.2.518-5.904 1.19.69-2.294 1.817-4.007 3.047-5.28-2.389-.607-5.178-.717-6.027-.23 1.232-2.065 2.745-3.465 4.252-4.413-2.17-1.155-4.852-1.921-5.796-1.649 1.732-1.74 3.576-2.746 5.294-3.305-1.825-1.668-4.293-3.092-5.292-3.051 2.05-1.239 4.03-1.78 5.796-1.933-1.37-1.983-3.345-3.84-4.3-4.027 2.32-.74 4.4-.801 6.167-.53-.835-2.274-2.318-4.59-3.208-5.002 2.435-.17 4.468.262 6.117.942-.254-2.405-1.128-5.007-1.894-5.616 2.398.404 4.263 1.294 5.695 2.336.334-2.39.118-5.11-.476-5.877 2.263.964 3.871 2.287 5.013 3.654.94-2.258 1.42-5.008 1.027-5.904 1.943 1.46 3.172 3.11 3.942 4.694 1.45-1.962 2.57-4.48 2.413-5.434Z" fill="#FFEB42"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M26.977.742c1.537 1.89 2.323 3.795 2.677 5.525 1.906-1.566 3.64-3.774 3.722-4.744 1.015 2.17 1.316 4.182 1.244 5.93 2.21-1.074 4.387-2.78 4.702-3.692.448 2.32.253 4.327-.235 5.996 2.387-.535 4.875-1.67 5.397-2.476-.13 2.383-.82 4.303-1.714 5.818 2.47.05 5.216-.479 5.927-1.147-.71 2.295-1.853 4.004-3.096 5.27 2.392.632 5.207.766 6.064.282-1.252 2.064-2.783 3.456-4.301 4.393 2.165 1.18 4.862 1.975 5.813 1.708-1.66 1.643-3.416 2.62-5.066 3.182 1.807 1.557 4.113 2.837 5.066 2.791-2.053 1.262-4.042 1.817-5.814 1.98 1.386 1.985 3.392 3.847 4.353 4.027-2.325.76-4.413.835-6.188.573.852 2.273 2.358 4.592 3.254 4.997-2.442.189-4.484-.232-6.142-.904.272 2.405 1.166 5.005 1.937 5.608-2.415-.388-4.293-1.273-5.737-2.313-.32 2.398-.082 5.127.518 5.891-2.25-.94-3.86-2.236-5.01-3.582-.902 2.25-1.346 4.955-.952 5.839-1.95-1.444-3.192-3.082-3.975-4.66-1.42 1.977-2.505 4.497-2.336 5.446-1.566-1.88-2.376-3.785-2.748-5.518-1.896 1.581-3.616 3.806-3.69 4.779-1.035-2.166-1.35-4.18-1.291-5.93-2.204 1.09-4.373 2.814-4.68 3.73-.471-2.345-.283-4.373.206-6.058-2.404.546-4.925 1.714-5.446 2.53.113-2.387.79-4.313 1.675-5.836-2.467-.03-5.2.518-5.904 1.19.69-2.294 1.817-4.007 3.047-5.28-2.389-.607-5.178-.717-6.027-.23 1.232-2.065 2.745-3.465 4.252-4.413-2.17-1.155-4.852-1.921-5.796-1.649 1.732-1.74 3.576-2.746 5.294-3.305-1.825-1.668-4.293-3.092-5.292-3.051 2.05-1.239 4.03-1.78 5.796-1.933-1.37-1.983-3.345-3.84-4.3-4.027 2.32-.74 4.4-.801 6.167-.53-.835-2.274-2.318-4.59-3.208-5.002 2.435-.17 4.468.262 6.117.942-.254-2.405-1.128-5.007-1.894-5.616 2.398.404 4.263 1.294 5.695 2.336.334-2.39.118-5.11-.476-5.877 2.263.964 3.871 2.287 5.013 3.654.94-2.258 1.42-5.008 1.027-5.904 1.943 1.46 3.172 3.11 3.942 4.694 1.45-1.962 2.57-4.48 2.413-5.434Z" fill="url(#b)"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M26.67.063a.77.77 0 0 1 .9.217c1.261 1.55 2.047 3.118 2.51 4.606a16.335 16.335 0 0 0 1.518-1.666c.324-.414.584-.796.763-1.12.19-.343.252-.553.259-.638a.749.749 0 0 1 .624-.67.762.762 0 0 1 .82.422c.833 1.776 1.211 3.46 1.302 4.995a16.49 16.49 0 0 0 1.841-1.241c.41-.321.748-.627.997-.895.263-.283.372-.469.4-.549a.758.758 0 0 1 .77-.503.754.754 0 0 1 .693.603c.365 1.893.325 3.596.046 5.094.734-.223 1.441-.49 2.05-.77.47-.214.866-.43 1.168-.63.32-.211.468-.364.513-.434a.766.766 0 0 1 .871-.31c.329.103.545.41.527.747-.107 1.95-.571 3.613-1.22 5.013.782-.043 1.55-.137 2.225-.268a9.15 9.15 0 0 0 1.31-.342c.368-.133.553-.249.615-.307a.771.771 0 0 1 .922-.098c.294.177.43.525.33.848-.582 1.88-1.444 3.394-2.421 4.607.774.144 1.55.234 2.242.266.528.025.993.016 1.364-.024.393-.043.602-.112.677-.155a.77.77 0 0 1 .918.122.73.73 0 0 1 .113.9c-1.027 1.692-2.236 2.962-3.484 3.911.716.323 1.446.594 2.11.79.507.148.96.249 1.33.297.392.052.611.034.695.01a.766.766 0 0 1 .861.336.73.73 0 0 1-.113.9c-1.344 1.33-2.755 2.25-4.133 2.877.59.435 1.194.824 1.754 1.133.437.242.834.427 1.165.548.35.127.556.156.638.152a.758.758 0 0 1 .76.519.735.735 0 0 1-.32.85c-1.676 1.03-3.319 1.617-4.851 1.908.483.59 1 1.14 1.491 1.595.378.35.731.635 1.034.837.32.215.521.294.605.31a.748.748 0 0 1 .614.68.742.742 0 0 1-.516.753c-1.907.623-3.669.81-5.247.73.326.7.697 1.37 1.068 1.94.283.434.558.8.805 1.072.26.289.439.415.517.45a.738.738 0 0 1 .428.805.752.752 0 0 1-.686.61c-2 .154-3.754-.08-5.264-.529.146.753.342 1.488.562 2.126.168.488.346.907.519 1.229.183.34.324.505.391.558.27.21.36.573.22.881a.762.762 0 0 1-.816.43c-1.976-.318-3.619-.954-4.973-1.74-.042.763-.03 1.52.029 2.19a8.5 8.5 0 0 0 .205 1.312c.095.373.192.565.245.632a.73.73 0 0 1-.002.907.769.769 0 0 1-.897.228c-1.844-.77-3.286-1.772-4.411-2.853a15.84 15.84 0 0 0-.515 2.137 8.487 8.487 0 0 0-.125 1.321c0 .385.047.594.081.672a.733.733 0 0 1-.226.88c-.27.208-.672.272-.947.068a14.025 14.025 0 0 1-3.55-3.864c-.398.657-.746 1.33-1.012 1.949a8.532 8.532 0 0 0-.44 1.253c-.094.373-.099.587-.084.67a.739.739 0 0 1-.432.802.77.77 0 0 1-.903-.206c-1.287-1.546-2.093-3.114-2.573-4.605a16.352 16.352 0 0 0-1.51 1.683 8.788 8.788 0 0 0-.757 1.128c-.188.345-.248.555-.255.641a.748.748 0 0 1-.619.675.762.762 0 0 1-.824-.416c-.847-1.773-1.239-3.458-1.34-4.995-.67.397-1.302.832-1.835 1.257a8.776 8.776 0 0 0-.992.903c-.261.286-.369.472-.396.552a.758.758 0 0 1-.767.51.753.753 0 0 1-.697-.598c-.386-1.918-.352-3.643-.074-5.157a16.52 16.52 0 0 0-2.08.79 8.89 8.89 0 0 0-1.18.645c-.324.217-.474.373-.52.444a.766.766 0 0 1-.868.316.743.743 0 0 1-.532-.743c.093-1.953.545-3.62 1.184-5.027-.777.05-1.541.149-2.211.284a8.973 8.973 0 0 0-1.304.352c-.366.135-.549.251-.61.31a.77.77 0 0 1-.921.104.735.735 0 0 1-.336-.845c.565-1.877 1.41-3.392 2.374-4.61a16.812 16.812 0 0 0-2.22-.244 9.022 9.022 0 0 0-1.354.036c-.389.046-.595.116-.67.159a.77.77 0 0 1-.919-.115.73.73 0 0 1-.12-.9c1.01-1.691 2.204-2.966 3.439-3.923a16.71 16.71 0 0 0-2.1-.763 9.01 9.01 0 0 0-1.323-.285c-.39-.048-.607-.029-.69-.005a.766.766 0 0 1-.864-.329.73.73 0 0 1 .106-.9c1.424-1.431 2.927-2.395 4.388-3.032a16.645 16.645 0 0 0-1.89-1.283 9.111 9.111 0 0 0-1.238-.608c-.373-.144-.595-.179-.683-.175a.757.757 0 0 1-.756-.524.735.735 0 0 1 .327-.849c1.671-1.01 3.307-1.582 4.831-1.864a16.157 16.157 0 0 0-1.467-1.588 8.674 8.674 0 0 0-1.02-.837c-.316-.215-.515-.295-.598-.311a.747.747 0 0 1-.608-.684.743.743 0 0 1 .522-.75c1.9-.605 3.654-.78 5.225-.692a16.013 16.013 0 0 0-1.05-1.937 8.67 8.67 0 0 0-.794-1.073c-.258-.289-.434-.416-.512-.452a.738.738 0 0 1-.422-.808.753.753 0 0 1 .692-.604c1.993-.14 3.739.105 5.241.561-.14-.753-.33-1.489-.545-2.128a8.567 8.567 0 0 0-.51-1.23c-.18-.342-.32-.507-.387-.56a.732.732 0 0 1-.212-.883.762.762 0 0 1 .819-.425c1.96.33 3.59.972 4.934 1.761a15.77 15.77 0 0 0-.014-2.183 8.473 8.473 0 0 0-.195-1.309c-.092-.372-.188-.564-.24-.631a.73.73 0 0 1 .009-.907.769.769 0 0 1 .898-.222c1.86.792 3.305 1.818 4.427 2.921.243-.743.431-1.495.55-2.174A8.61 8.61 0 0 0 20 2.457c.004-.391-.041-.605-.076-.684a.732.732 0 0 1 .233-.878.771.771 0 0 1 .926-.002c1.592 1.196 2.735 2.52 3.549 3.842.41-.655.77-1.33 1.045-1.95.21-.473.365-.9.458-1.253.098-.373.106-.588.092-.671a.739.739 0 0 1 .442-.798Zm.712 2.54c-.09.25-.196.51-.314.774A17.856 17.856 0 0 1 25.18 6.61a.765.765 0 0 1-1.3-.116 11.772 11.772 0 0 0-2.404-3.303c-.028.274-.068.561-.12.856a17.664 17.664 0 0 1-1.058 3.617.767.767 0 0 1-1.29.19 11.95 11.95 0 0 0-3.175-2.665c.039.258.07.531.092.813.09 1.127.06 2.458-.114 3.707a.745.745 0 0 1-.458.583.772.772 0 0 1-.746-.088 12.131 12.131 0 0 0-3.674-1.806c.101.244.198.505.29.776.363 1.078.657 2.382.79 3.638a.735.735 0 0 1-.303.673.772.772 0 0 1-.746.087 12.248 12.248 0 0 0-4.025-.9c.157.212.314.441.469.682.615.96 1.218 2.155 1.655 3.342a.73.73 0 0 1-.13.724.767.767 0 0 1-.7.26 12.283 12.283 0 0 0-4.127.078c.196.16.396.337.595.524a18.042 18.042 0 0 1 2.41 2.808c.15.217.172.497.056.734a.758.758 0 0 1-.618.42 12.25 12.25 0 0 0-3.926 1.021c.254.124.518.265.784.419a18.32 18.32 0 0 1 3.089 2.263c.195.178.28.445.223.7a.748.748 0 0 1-.501.546 12.102 12.102 0 0 0-3.699 1.973c.263.056.536.125.815.205a18.53 18.53 0 0 1 3.508 1.42.74.74 0 0 1 .395.624.738.738 0 0 1-.347.652 11.932 11.932 0 0 0-3.036 2.746c.268-.007.55-.005.84.006 1.156.045 2.504.231 3.751.548a.75.75 0 0 1 .539.514.73.73 0 0 1-.178.714 11.751 11.751 0 0 0-2.274 3.376c.258-.07.531-.133.814-.19a18.729 18.729 0 0 1 3.775-.347.761.761 0 0 1 .648.373.728.728 0 0 1 .002.736 11.608 11.608 0 0 0-1.387 3.807c.233-.128.483-.253.745-.375a18.62 18.62 0 0 1 3.582-1.216.77.77 0 0 1 .72.211.73.73 0 0 1 .181.715 11.53 11.53 0 0 0-.42 4.02c.196-.18.41-.36.635-.54a18.383 18.383 0 0 1 3.188-2.017.772.772 0 0 1 .75.036.738.738 0 0 1 .35.65 11.535 11.535 0 0 0 .58 4.003c.154-.23.325-.467.51-.706a18.128 18.128 0 0 1 2.642-2.734.771.771 0 0 1 .737-.138.748.748 0 0 1 .497.55 11.616 11.616 0 0 0 1.577 3.813c.087-.248.189-.506.301-.768a17.845 17.845 0 0 1 1.843-3.247.765.765 0 0 1 .681-.313.758.758 0 0 1 .622.415 11.778 11.778 0 0 0 2.427 3.28c.024-.263.06-.538.107-.82.183-1.12.534-2.41 1.005-3.586a.767.767 0 0 1 1.288-.205c.794.93 1.825 1.839 3.167 2.61a12.902 12.902 0 0 1-.1-.821 17.568 17.568 0 0 1 .09-3.718.744.744 0 0 1 .455-.586.772.772 0 0 1 .747.085A12.13 12.13 0 0 0 43 44.745a12.175 12.175 0 0 1-.297-.777 17.623 17.623 0 0 1-.816-3.636.735.735 0 0 1 .298-.675.772.772 0 0 1 .746-.091c1.145.464 2.491.803 4.047.877a12.32 12.32 0 0 1-.48-.688 17.808 17.808 0 0 1-1.682-3.342.73.73 0 0 1 .125-.724.767.767 0 0 1 .7-.265 12.29 12.29 0 0 0 4.15-.104 12.444 12.444 0 0 1-.613-.533 18.05 18.05 0 0 1-2.441-2.81.728.728 0 0 1-.06-.735.758.758 0 0 1 .615-.423 12.24 12.24 0 0 0 3.95-1.054 12.43 12.43 0 0 1-.65-.335 18.285 18.285 0 0 1-2.982-2.086.733.733 0 0 1-.243-.7.747.747 0 0 1 .495-.558 12.13 12.13 0 0 0 3.474-1.866 12.84 12.84 0 0 1-.829-.216 18.568 18.568 0 0 1-3.512-1.458.74.74 0 0 1-.39-.628.738.738 0 0 1 .354-.648 11.95 11.95 0 0 0 3.072-2.734c-.274.005-.562 0-.859-.013a18.72 18.72 0 0 1-3.77-.585.75.75 0 0 1-.532-.519.73.73 0 0 1 .184-.712 11.758 11.758 0 0 0 2.31-3.37c-.261.068-.537.13-.824.186-1.137.22-2.495.344-3.786.318a.76.76 0 0 1-.645-.377.728.728 0 0 1 .004-.736 11.612 11.612 0 0 0 1.412-3.791c-.226.121-.467.24-.718.356a18.606 18.606 0 0 1-3.55 1.188.77.77 0 0 1-.72-.213.73.73 0 0 1-.179-.715 11.53 11.53 0 0 0 .435-3.96c-.197.177-.411.355-.637.533a18.401 18.401 0 0 1-3.199 1.992.773.773 0 0 1-.75-.042.738.738 0 0 1-.345-.652 11.522 11.522 0 0 0-.55-3.999c-.154.228-.326.463-.512.699a18.133 18.133 0 0 1-2.658 2.712.771.771 0 0 1-.74.132.747.747 0 0 1-.492-.555 11.611 11.611 0 0 0-1.528-3.81Z" fill="#000"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M29.142 17.94a.75.75 0 0 1 .759.742c0 1.407 1.203 2.581 2.73 2.581 1.526 0 2.73-1.174 2.73-2.581a.75.75 0 0 1 .758-.742.75.75 0 0 1 .758.742c0 2.264-1.92 4.065-4.247 4.065-2.326 0-4.246-1.802-4.246-4.065 0-.41.34-.742.758-.742ZM17.51 29.02a.75.75 0 0 1 .758.743c0 3.582 3.709 6.732 8.626 6.732s8.626-3.15 8.626-6.732a.75.75 0 0 1 .758-.742.75.75 0 0 1 .758.742c0 4.673-4.694 8.216-10.142 8.216-5.448 0-10.142-3.543-10.142-8.216 0-.41.34-.742.758-.742Zm.915-11.18a.75.75 0 0 1 .758.743c0 1.438 1.212 2.622 2.73 2.622s2.73-1.184 2.73-2.622c0-.41.34-.742.758-.742a.75.75 0 0 1 .759.742c0 2.277-1.912 4.106-4.247 4.106-2.334 0-4.246-1.829-4.246-4.106 0-.41.34-.742.758-.742Z" fill="#000"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M25.515 17.946a.745.745 0 0 1 .654.832l-1.42 10.638h3.382a.75.75 0 0 1 .759.742.75.75 0 0 1-.759.742h-4.246a.766.766 0 0 1-.57-.252.732.732 0 0 1-.182-.586l1.532-11.477a.755.755 0 0 1 .85-.64Z" fill="#000"/>
    
    <g class="glasses">
      <path d="M25.934 19.868c1.392 2.666-2.872 5.685-6.299 5.658a6.773 6.773 0 0 1-2.388-.453 6.32 6.32 0 0 1-2.018-1.254 5.701 5.701 0 0 1-1.34-1.862 5.28 5.28 0 0 1-.458-2.189l12.503.1Zm2.762-.231c-1.438 2.646 2.781 5.736 6.213 5.763a6.786 6.786 0 0 0 2.399-.416 6.332 6.332 0 0 0 2.041-1.222 5.713 5.713 0 0 0 1.373-1.843c.32-.69.488-1.432.494-2.183l-12.52-.1Z" fill="#000"/>
      <path d="M12.36 19.8c.005-.498.426-.899.94-.895l10.561.084a.943.943 0 0 1 .696.31c.066.073.16.12.259.108.951-.122 1.067-.272 2.58-.26 1.396.01 1.471.045 2.356.168a.302.302 0 0 0 .252-.096.944.944 0 0 1 .68-.278l10.561.084c.515.004.929.411.925.91-.005.498-.425.898-.94.894l-9.886-.078a.105.105 0 0 0-.105.083.105.105 0 0 1-.12.081c-.391-.059-.75-.127-1.11-.195-.954-.182-1.036-.306-2.624-.319-1.588-.012-1.673.213-2.63.38-.36.062-.72.124-1.114.177a.104.104 0 0 1-.117-.083.105.105 0 0 0-.104-.085l-10.135-.08c-.514-.005-.928-.412-.924-.91Z" fill="#000"/>
      <path d="M17.404 23.227s.578-.672 1.116-1.566c.54-.893.431-.813.431-.813l2.154.066s-.194.064-.741.906c-.548.843-.79 1.575-.79 1.575s-.305.06-1.125.036c-.82-.025-1.045-.204-1.045-.204Zm16.199.158s.563-.657 1.088-1.53c.525-.874.675-1.282.675-1.282l2.098.064s-.445.55-.978 1.373a7.457 7.457 0 0 0-.77 1.54s-.296.058-1.095.034c-.8-.024-1.018-.199-1.018-.199Z" fill="#fff"/>
    </g>
  </g>
  <defs>
    <linearGradient id="b" x1="26.93" y1="27" x2="26.93" y2="52.48" gradientUnits="userSpaceOnUse">
      <stop stop-color="#FFE602" stop-opacity="0"/>
      <stop offset="1" stop-color="#FFE602"/>
    </linearGradient>
    <clipPath id="a">
      <path fill="#fff" d="M0 0h54v64H0z"/>
    </clipPath>
  </defs>
</svg>`;
const smileyDataURL = `data:image/svg+xml,${encodeURIComponent(smileySVG)}`;

const codeString = `duckplot
    .query('select * from stocks limit 20')
    .table("stocks")
    .x("Date")
    .y("Close")        
    .mark("dot")
    .config({tipMark: {type: "image", options: {src: () => "${smileyDataURL}"}}})
    `;

export const tipMark = (options) =>
  renderPlot("stocks.csv", codeString, options);
